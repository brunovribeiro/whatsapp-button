{"version":3,"file":"SnapbotButton.js","sourceRoot":"","sources":["../src/SnapbotButton.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, css, LitElement, customElement, property } from 'lit-element';\nimport { config } from './_config';\n\n@customElement('snapbot-button')\n// @ts-ignore\nclass SnapbotButton extends LitElement {\n  @property({type: String}) icon = config.icon;\n  @property({type: String}) hash = '';\n  @property({type: String}) preview = false;\n  @property({type: String}) title = 'Estamos online!';\n  @property({type: String}) message = 'Fala com o nosso robô';\n  @property({type: String}) titleFeedback = 'Verifique seu WhatsApp!';\n  @property({type: String}) messageFeedback = 'Já vamos te chamar por lá...';\n  @property({type: String}) type = 'full';\n  @property({type: String}) button = 'INICIAR ATENDIMENTO';\n  @property({type: String}) textCancel = 'Não quero falar pelo WhatsApp!';\n  @property({type: Number}) accountNumber = '';\n  @property({type: String}) cc = '55';\n\n  @property({type: String}) styleClassSnapbotWhtasappIcon = '';\n  @property({type: String}) styleClassContainerSnapbot = '';\n  @property({type: String}) styleIdHeaderSnapbot = '';\n  @property({type: String}) styleIdActionSnapbot = '';\n  @property({type: String}) styleIdTituloSnapbot = '';\n  @property({type: String}) styleIdMensagemSnapbot = '';\n\n  static styles = css`\n    :host {\n      display: block;\n      padding: 25px;\n      color: var(--snapbot-widget-text-color, #000);\n    }\n\n    .snapbot-whtasapp-icon{\n      padding: 15px;\n      position: fixed;\n      right: 35px;\n      bottom: 35px;\n      cursor: pointer;\n      -webkit-transition: all .5s cubic-bezier(.190, 1.000, .220, 1.000);\n      -moz-transition: all .5s cubic-bezier(.190, 1.000, .220, 1.000);\n      -ms-transition: all .5s cubic-bezier(.190, 1.000, .220, 1.000);\n      -o-transition: all .5s cubic-bezier(.190, 1.000, .220, 1.000);\n      transition: all .5s cubic-bezier(.190, 1.000, .220, 1.000);\n    }\n\n    .snapbot-whtasapp-icon:hover{\n      -webkit-transform: scale(1.3);\n      -moz-transform: scale(1.3);\n      -ms-transform: scale(1.3);\n      -o-transform: scale(1.3);\n      transform: scale(1.3);\n    }\n\n    @media (pointer: coarse) {\n      .snapbot-whtasapp-icon{\n         width:20%;\n         right: 5px;\n         bottom: 5px;\n      }\n    }\n\n    #container-snapbot{\n      width: 320px;\n      height: 400px;\n      position: fixed;\n      right: 25px;\n      bottom: -500px;\n      background: transparent;\n      -webkit-box-shadow: -1px 2px 33px -2px rgba(0,0,0,0.41);\n      -moz-box-shadow: -1px 2px 33px -2px rgba(0,0,0,0.41);\n      box-shadow: -1px 2px 33px -2px rgba(0,0,0,0.41);\n      border-top-right-radius: 30px;\n      border-top-left-radius: 30px;\n      font-family: 'Roboto', sans-serif !important;\n      font-weight: 500;\n    }\n\n    #container-snapbot #header-snapbot{\n      height: 7%;\n      background: #00E676;\n      padding: 7% 10% 15%;\n      border-radius: 10px 10px 0px 0px;\n      -moz-border-radius: 10px 10px 0px 0px;\n      -webkit-border-radius: 10px 10px 0px 0px;\n      border: 0px solid #000000;\n      border-top-right-radius: 30px;\n    }\n\n    #container-snapbot #header-snapbot #detalhe-snapbot{\n      width: 25px;\n      height: 25px;\n      background: #fff;\n      position: absolute;\n      right: 0;\n      top: 0;\n      border-bottom-left-radius: 65px;\n      border-top-right-radius: 65px;\n    }\n\n    #container-snapbot #header-snapbot #snapbot-icon{\n      width: 20%;\n      float: left;\n    }\n\n    #container-snapbot #header-snapbot #text-content-snapbot{\n      width: 75%;\n      float: left;\n      height: 50px;\n      padding: 8px 0 5px 5px;\n    }\n\n    #container-snapbot #header-snapbot #titulo-snapbot{\n      text-align:left;\n      font-size: 20px;\n      letter-spacing: -1px;\n      color: #fff;\n      font-weight: bolder;\n      margin: 0;\n      padding: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: Ellipsis;\n    }\n\n    #container-snapbot #header-snapbot #mensagem-snapbot{\n      text-align:left;\n      font-size: 14px;\n      letter-spacing: -1px;\n      color: #fff;\n      margin: 0;\n      padding: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: Ellipsis;\n    }\n\n    #container-snapbot #header-snapbot .dark{\n      color:#383838;\n    }\n\n    #container-snapbot #header-snapbot .white{\n      color:#fff;\n    }\n\n    #container-snapbot #header-snapbot img{\n      width: 100px;\n    }\n\n    #container-snapbot #content{\n      height: 60%;\n      background: #fff;\n      padding: 10%;\n    }\n\n    #container-snapbot #content form input{\n      width: 90%;\n      height: 40px;\n      border: 1px solid #f1f1f1;\n      border-radius: 5px;\n      font-family: 'Roboto', sans-serif;\n      padding: 0 5%;\n      font-size: 16px;\n    }\n\n    #container-snapbot #content form input:focus{\n      animation: treme 0.1s;\n      animation-iteration-count: 2;\n    }\n\n    @keyframes treme {\n      0% {margin-left: 0;}\n      25% {margin-left: 2px;}\n      50% {margin-left: 0;}\n      75% {margin-left: -2px;}\n      100% {margin-left: 0;}\n   }\n\n    #container-snapbot #content form #name-snapbot{\n      margin-bottom: 10px;\n    }\n\n    #container-snapbot #content form #action-snapbot{\n      width: 100%;\n      height: 50px;\n      background: #00BF54;\n      font-size: 16px;\n      padding: 10px 0;\n      border: 1px solid #ccc;\n      border-radius: 5px;\n      color: #fff;\n      margin-top: 5%;\n      font-family: 'Roboto', sans-serif;\n      font-weight: bold;\n      cursor: pointer;\n    }\n\n    #container-snapbot #content form #action-snapbot:hover{\n      background: #00bf96;\n    }\n\n    #container-snapbot #content .shadow{\n      -webkit-box-shadow: 0px 0px 14px -1px rgba(0,0,0,0.41);\n      -moz-box-shadow: 0px 0px 14px -1px rgba(0,0,0,0.41);\n      box-shadow: 0px 0px 14px -1px rgba(0,0,0,0.41);\n    }\n\n    #container-snapbot #content #output-snapbot{\n      padding: 10% 0;\n    }\n\n    #container-snapbot #content #output-snapbot hr{\n      width: 10%;\n      text-align: center;\n      opacity: 0.5;\n    }\n\n    #container-snapbot #content #output-snapbot #text-output-snapbot{\n      text-align: center;\n      font-size: 12px;\n      opacity: 0.5;\n      cursor: pointer;\n    }\n\n    #container-snapbot #content #output-snapbot #text-output-snapbot:hover{\n      color: #00E676;\n    }\n  `;\n\n  constructor() {\n    super();\n  }\n  \n  render() {\n    return html`\n      <img id=\"icon-wpp\" @click=\"${this.__clickIcon}\" src=\"${this.icon}\" \n        class=\"snapbot-whtasapp-icon\" \n        width=\"90px\" \n        style=\"opacity: 0; ${this.styleClassSnapbotWhtasappIcon}\"\n      >\n\n      <div id=\"container-snapbot\" style=\"${this.styleClassContainerSnapbot}\">\n        <div id=\"header-snapbot\" style=\"${this.styleIdHeaderSnapbot}\">\n          <div id=\"detalhe-snapbot\"></div>\n          <img src=\"${this.icon}\" id=\"snapbot-icon\">\n          <div id=\"text-content-snapbot\">\n            <p id=\"titulo-snapbot\" style=\"${this.styleIdTituloSnapbot}\">${this.title}</p>\n            <p id=\"mensagem-snapbot\" style=\"${this.styleIdMensagemSnapbot}\">${this.message}</p>\n          </div>\n            \n        </div>\n        <div id=\"content\">\n          <form @submit=\"${this.__submit}\" action=\"post\">\n            <input name=\"name\" type=\"text\" id=\"name-snapbot\" placeholder=\"Nome\" required>\n            <input name=\"phone\" @keyup=\"${this.__mascara}\" maxlength=\"15\" type=\"tel\" pattern=\"[(][0-9]{2}[)][ ][0-9]{4}[-][0-9]{4,}\" name=\"phonenumber-snapbot\" placeholder=\"(99) 99999-9999\" required>\n            <button id=\"action-snapbot\" class=\"shadow\" style=\"${this.styleIdActionSnapbot}\">${this.button}</button>\n          </form>\n          <div id=\"output-snapbot\">\n            <hr>\n            <p @click=\"${this.__cancelForm}\" id=\"text-output-snapbot\">${this.textCancel}</p>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  firstUpdated() {\n    if (!this.preview) {\n      this.loadConfig();\n    } else {\n      this.loadPreview();\n    }\n  }\n\n  loadPreview() {\n    if(this.shadowRoot) {\n      let butt = this.shadowRoot.getElementById('icon-wpp');\n      this.__fadeIn(butt,1);\n    }\n  }\n\n  async loadConfig() {\n    const result: any = await fetch(`${config.baseUrl}/widget/load`, {\n      method: 'get',\n      headers:{\n        'X-HASH-Widget':this.hash,\n        'Accept':'application/json'\n      }\n    }).then(response => {\n      if (response.status === 403) {\n        throw new Error('Domínio não permitido.');\n      }\n\n      if (response.status === 404) {\n        throw new Error('Widget não encontrado.');\n      }\n\n      if (response.status >= 500) {\n        throw new Error('Falha no carregamento.');\n      }\n      \n      return response;\n    }).catch((err) => {\n      console.error(err);\n      return;\n    });\n\n    const data = await result.json();\n\n    if(typeof data.data.configuration.type != 'undefined')\n      this.type = data.data.configuration.type;\n    if(typeof data.data.configuration.title != 'undefined')\n      this.title = data.data.configuration.title;\n    if(typeof data.data.configuration.message != 'undefined')\n      this.message = data.data.configuration.message;\n    if(typeof data.data.configuration.button != 'undefined')\n      this.button = data.data.configuration.button;\n    if(typeof data.data.configuration.textCancel != 'undefined')\n      this.textCancel = data.data.configuration.textCancel;\n    if(typeof data.data.configuration.icon != 'undefined')\n      this.icon = data.data.configuration.icon;\n    if(typeof data.data.configuration.titleFeedback != 'undefined')\n      this.titleFeedback = data.data.configuration.titleFeedback;\n    if(typeof data.data.configuration.messageFeedback != 'undefined')\n      this.messageFeedback = data.data.configuration.messageFeedback;\n    this.accountNumber = data.data.account_number;\n\n    this.fillStyleConfigs(data.data.configuration);\n    \n    if(this.shadowRoot) {\n      let butt = this.shadowRoot.getElementById('icon-wpp');\n      this.__fadeIn(butt,1);\n    }\n  }\n\n  fillStyleConfigs(configs: any) {\n    if (configs.styleClassSnapbotWhtasappIcon) {\n      const snapbotWhatsappIcon = JSON.parse(configs.styleClassSnapbotWhtasappIcon);\n\n      Object.keys(snapbotWhatsappIcon).forEach(prop => {\n        const cssProp = `${prop}:${snapbotWhatsappIcon[prop]};`;\n        this.styleClassSnapbotWhtasappIcon += cssProp;\n      });\n    }\n\n    if (configs.styleClassContainerSnapbot) {\n      const containerSnapbot = JSON.parse(configs.styleClassContainerSnapbot);\n\n      Object.keys(containerSnapbot).forEach(prop => {\n        const cssProp = `${prop}:${containerSnapbot[prop]};`;\n        this.styleClassContainerSnapbot += cssProp;\n      });\n    }\n\n    if (configs.styleIdHeaderSnapbot) {\n      const headerSnapbot = JSON.parse(configs.styleIdHeaderSnapbot);\n\n      Object.keys(headerSnapbot).forEach(prop => {\n        const cssProp = `${prop}:${headerSnapbot[prop]};`;\n        this.styleIdHeaderSnapbot += cssProp;\n      });\n    }\n\n    if (configs.styleIdActionSnapbot) {\n      const actionSnapbot = JSON.parse(configs.styleIdActionSnapbot);\n\n      Object.keys(actionSnapbot).forEach(prop => {\n        const cssProp = `${prop}:${actionSnapbot[prop]};`;\n        this.styleIdActionSnapbot += cssProp;\n      });\n    }\n\n    if (configs.styleIdTituloSnapbot) {\n      const tituloSnapbot = JSON.parse(configs.styleIdTituloSnapbot);\n\n      Object.keys(tituloSnapbot).forEach(prop => {\n        const cssProp = `${prop}:${tituloSnapbot[prop]};`;\n        this.styleIdTituloSnapbot += cssProp;\n      });\n    }\n\n    if (configs.styleIdMensagemSnapbot) {\n      const mensagemSnapbot = JSON.parse(configs.styleIdMensagemSnapbot);\n\n      Object.keys(mensagemSnapbot).forEach(prop => {\n        const cssProp = `${prop}:${mensagemSnapbot[prop]};`;\n        this.styleIdMensagemSnapbot += cssProp;\n      });\n    }\n  }\n\n  async getLinkToRedirect() {\n    let result:any = await fetch(`${config.baseUrl}${config.linkRedirect}`, {\n      method: 'get',\n      headers:{\n        'X-HASH-Widget':this.hash,\n        'Accept':'application/json'\n      }\n    }).catch((err) => {\n      console.log(err);\n      return;\n    });\n\n    let data = await result.json();\n    window.open(data.data.link);\n  }\n\n  async sendForm(form: any) {\n    let formData = new FormData(form);\n    formData.set('phone',`${this.cc}${formData.get('phone')}`);\n    let result:any = await fetch(`${config.baseUrl}${config.linkActive}`, {\n      method: 'post',\n      headers:{\n        'X-HASH-Widget':this.hash,\n        'Accept':'application/json'\n      },\n      body:formData\n    }).catch((err) => {\n      console.log(err);\n      return;\n    });\n\n    await result.json();\n    this.__sendForm();\n  }\n\n  __clickIcon(event: any) {\n    switch(this.type) {\n      case 'full':\n        if(this.shadowRoot) {\n          let form = this.shadowRoot.getElementById('container-snapbot');\n          this.__fadeOut(event.target, 0.5);\n          this.__openForm(form,0.5);\n        }\n        break;\n      case 'basic':\n        if(!this.preview) {\n          this.getLinkToRedirect();\n        }\n        break;\n    }\n  }\n\n  __sendForm() {\n    if(this.shadowRoot) {\n      let form = this.shadowRoot.getElementById('container-snapbot');\n      this.__closeForm(form, 0.5, 0,-305);\n      \n      let title = this.shadowRoot.getElementById('titulo-snapbot');\n      let message = this.shadowRoot.getElementById('mensagem-snapbot');\n      if(title) {\n        this.__fadeOut(title, 0.5);\n        title.innerHTML = this.titleFeedback;\n        setTimeout(() => {\n          this.__fadeIn(title,0.5);\n        },500);\n      }\n      if(message) {\n        this.__fadeOut(message, 0.5);\n        message.innerHTML = this.messageFeedback;\n        setTimeout(() => {\n          this.__fadeIn(message,0.5);\n        },500);\n      }\n      \n      setTimeout(() => {\n        this.__closeForm(form, 1, -305,-500);\n      },3000)\n    }\n  }\n\n  __cancelForm() {\n    if(this.shadowRoot) {\n      let icon = this.shadowRoot.getElementById('icon-wpp');\n      let form = this.shadowRoot.getElementById('container-snapbot');\n      this.__closeForm(form,0.2);\n      this.__fadeIn(icon, 0.5);\n    }\n  }\n  \n  __openForm(form: any,time = 0.5, startBottom = -500, endBottom = 0) {\n    this.__fadeIn(form, time);\n    let diff = startBottom-endBottom;\n    if(diff < 0)\n      diff *= -1;\n    \n    let timeByIncrement = ((1000*time)/diff)*10;\n    let intervalo = setInterval(function(){\n      if(startBottom >= endBottom){\n        clearInterval(intervalo);\n      }else {\n        startBottom += 10;\n        form.style.bottom = `${startBottom}px`;\n      }\n    },timeByIncrement);\n  }\n\n  __closeForm(form: any,time = 0.5, startBottom = 0, endBottom = -500) {\n    let diff = startBottom-endBottom;\n    if(diff < 0)\n      diff *= -1;\n    \n    let timeByIncrement = ((1000*time)/diff)*10;\n    \n    let intervalo = setInterval(function(){\n      if(startBottom <= endBottom){\n        clearInterval(intervalo);\n      }else {\n        startBottom -= 10\n        form.style.bottom = `${startBottom}px`;\n      }\n    },timeByIncrement);\n  }\n\n  __fadeIn(element:any, time: number) {\n    this.__processFade(element,time,0,100);\n  }\n\n  __fadeOut(element:any, time: number) {\n    this.__processFade(element,time,100,0);\n  }\n\n  __processFade(element: any, time: number, initial: number, end: number) {\n    let increment: number;\n    if(initial == 0){\n      increment = 2;\n      element.style.display = \"block\";\n    }else {\n      increment = -2;\n    }\n    \n    let opc = initial;\n    let intervalo = setInterval(function(){\n      if((opc == end)){\n        if(end == 0){\n          element.style.display = \"none\";\n        }\n        clearInterval(intervalo);\n      }else {\n        opc += increment;\n        element.style.opacity = opc/100;\n        element.style.filter = \"alpha(opacity=\"+opc+\")\";\n      }\n    },time * 10);\n  }\n\n  __mascara(event: any) {\n    this.__telefone(event.target);\n  }\n\n  __telefone(element:any){\n    let value = element.value;\n    value=value.replace(/\\D/g,\"\")                 //Remove tudo o que não é dígito\n    value=value.replace(/^(\\d\\d)(\\d)/g,\"($1) $2\") //Coloca parênteses em volta dos dois primeiros dígitos\n    value=value.replace(/(\\d{4})(\\d)/,\"$1-$2\")    //Coloca hífen entre o quarto e o quinto dígitos\n    element.value = value;\n    return value;\n  }\n\n  __submit(event: MouseEvent) {\n    event.preventDefault();\n    if(!this.preview) {\n      if(this.shadowRoot){\n        let btn = this.shadowRoot.getElementById('action-snapbot');\n        if(btn)\n          this.disabledElement(btn);\n      }\n      \n      this.sendForm(event.target);\n    } else\n      this.previewSend();\n  }\n\n  previewSend() {\n    this.__sendForm();\n  }\n\n  disabledElement(element: any) {\n    element.disabled = true;\n  }\n\n  enbledElement(element: any) {\n    element.disabled = false;\n  }\n}\nexport { SnapbotButton };\n"]}